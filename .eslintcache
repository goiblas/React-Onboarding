[{"/Users/goiblas/Documents/Clever/react-onboarding/src/index.js":"1","/Users/goiblas/Documents/Clever/react-onboarding/src/reportWebVitals.js":"2","/Users/goiblas/Documents/Clever/react-onboarding/src/App.js":"3","/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/index.js":"4","/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/Badge.js":"5","/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/Portal.js":"6","/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/Dot.js":"7","/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/Popover.js":"8","/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/utilsDom.js":"9"},{"size":503,"mtime":1608404411042,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":1608399830805,"results":"12","hashOfConfig":"11"},{"size":8966,"mtime":1608824722945,"results":"13","hashOfConfig":"11"},{"size":4696,"mtime":1608824123038,"results":"14","hashOfConfig":"11"},{"size":1872,"mtime":1608402767858,"results":"15","hashOfConfig":"11"},{"size":491,"mtime":1608492874901,"results":"16","hashOfConfig":"11"},{"size":854,"mtime":1608402760616,"results":"17","hashOfConfig":"11"},{"size":1951,"mtime":1608492866311,"results":"18","hashOfConfig":"11"},{"size":889,"mtime":1608493197190,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"1hx35vk",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"/Users/goiblas/Documents/Clever/react-onboarding/src/index.js",[],["40","41"],"/Users/goiblas/Documents/Clever/react-onboarding/src/reportWebVitals.js",[],"/Users/goiblas/Documents/Clever/react-onboarding/src/App.js",[],"/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/index.js",["42","43"],"import React, { useState, useCallback, useLayoutEffect, useRef, useEffect } from \"react\"\nimport FocusLock, { MoveFocusInside } from 'react-focus-lock'\nimport { Backdrop, Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock'\nimport { useDebouncedCallback } from 'use-debounce'\nimport Portal from \"./Portal\"\nimport Badge from \"./Badge\"\nimport { getCoords, scrollIntoView } from \"./utilsDom\"\nimport Popover from \"./Popover\"\nimport Dot from \"./Dot\"\n\nconst useStyles = makeStyles((theme) => ({\n    backdrop: {\n      zIndex: theme.zIndex.modal + 1,\n    },\n    navigation: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    }\n}));\n\nconst createAnchorEl = ({ x, y }) => ({\n    clientWidth: 0,\n    clientHeight: 0,\n    getBoundingClientRect() {\n        return {\n            left: x,\n            right: x,\n            top: y,\n            bottom: y\n        }\n    }                      \n})\n\nconst Onboarding = ({ open, steps, onCompleted }) => {\n    const classes = useStyles();\n    const [current, _setCurrent] = useState(0)\n    const [position, setPosition] = useState(null)\n    const [isMoving, setMoving] = useState(false)\n    const popperRef = useRef()\n\n    const isCompleted = (arr, position) => !arr[position];\n\n    const setCurrent = newPosition => _setCurrent( lastPosition => {\n        const step = steps[lastPosition]\n        if(step.onAfter) {\n            setMoving(true)\n            step.onAfter().then(() => setMoving(false))\n        }\n        return newPosition\n    })\n\n    useEffect(() => {\n        if(open) {\n            disableBodyScroll(window)\n        } else {\n            enableBodyScroll(window)\n        }\n    }, [open])\n\n    useEffect(() => {\n        async function loadNext() {\n            setMoving(true)\n            const step = steps[current]\n            if(step.onBefore) {\n               await step.onBefore()\n            }\n            await scrollIntoView(step.selector)\n            setPosition(getCoords(step.selector, { position: step.placement}))\n\n            setMoving(false) \n        } \n        if(open) loadNext()\n    }, [current, steps, open])\n\n    const next = useCallback((stepNumber) => {\n        if(isCompleted(steps, stepNumber)) {\n            onCompleted()\n            setCurrent(0)\n        } else {\n            setCurrent(stepNumber)\n        }\n    }, [steps, onCompleted])\n\n    const resizeDebounced = useDebouncedCallback(() =>{ \n        if(open && !isMoving) {\n            const step = steps[current]\n            \n            setMoving(true)\n    \n            scrollIntoView(step.selector).then(() => {\n                setPosition(getCoords(step.selector, { position: step.placement}))\n                setMoving(false) \n            })\n        }\n    }, 200)\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", resizeDebounced.callback)\n        \n        return () => {\n            window.removeEventListener(\"resize\", resizeDebounced.callback)\n        }\n    }, [resizeDebounced.callback])\n\n    const handleClose = (ev) =>  ev.stopPropagation()  \n\n    if(!open) {\n        return null\n    }\n\n    return (\n        <Portal>\n            <Backdrop className={classes.backdrop} open={true} onClick={handleClose}>\n                {!isMoving && position && (\n                <FocusLock shards={[popperRef]}>\n                    <div style={{ position: \"absolute\", top: position.y, left: position.x }}> \n                        <Badge />\n                        <Popover\n                            ref={popperRef}\n                            anchorEl={createAnchorEl(position)}>\n                            <h2>{steps[current].title}</h2>\n                            <p>{steps[current].content}</p>\n                            <MoveFocusInside>\n                                <div className={classes.navigation}>\n                                    <Button focusRipple={false} disabled={current === 0} onClick={() =>next(current - 1)}>Previus</Button>\n                                    <div>\n                                        {steps.map((_, index) => <Dot key={index} actived={index === current} onClick={() => next(index)} />)}\n                                    </div>\n                                    <Button focusRipple={false} data-autofocus onClick={() =>next(current + 1)}>{current === steps.length - 1 ? \"Finish\" : \"Next\" }</Button>\n                                </div>\n                            </MoveFocusInside>\n                        </Popover>\n                    </div>\n                </FocusLock>\n                )\n        }\n            </Backdrop>\n        </Portal>\n    )\n}\n\nexport default Onboarding","/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/Badge.js",[],"/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/Portal.js",[],"/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/Dot.js",[],"/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/Popover.js",[],"/Users/goiblas/Documents/Clever/react-onboarding/src/Onboarding/utilsDom.js",[],{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","severity":1,"message":"49","line":1,"column":40,"nodeType":"50","messageId":"51","endLine":1,"endColumn":55},{"ruleId":"52","severity":1,"message":"53","line":84,"column":8,"nodeType":"54","endLine":84,"endColumn":28,"suggestions":"55"},"no-native-reassign",["56"],"no-negated-in-lhs",["57"],"no-unused-vars","'useLayoutEffect' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'setCurrent'. Either include it or remove the dependency array.","ArrayExpression",["58"],"no-global-assign","no-unsafe-negation",{"desc":"59","fix":"60"},"Update the dependencies array to be: [steps, onCompleted, setCurrent]",{"range":"61","text":"62"},[2409,2429],"[steps, onCompleted, setCurrent]"]